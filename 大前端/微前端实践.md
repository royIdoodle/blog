# 微前端实践

## 目录

 * 微前端的应用场景 
 * 微前端的框架选型
 * 微前端实际操作
 
 
## 微前端应用场景

基础架构部中的前端平台时间跨度大，独立的平台数量比较多。
存在以下问题：
 1. 难以维护，由于项目历史悠久，时间跨度大，很多人员已经离职，代码逻辑难以理解，功能设计
 2. 使用不方便，各个平台虽然功能独立，但是各平台之间还是存在关联的。使用者经常会在各平台之间来回跳转，使用上存在断层，不连续。
 3. 平台割裂，从基础架构部门向下看的话，各平台是一个个子应用，但是从用户的角度来看，各平台是割裂的，难以裂解这些平台是一个整体。
 
平台列表

| 平台名称 | 功能 |
| -------|-----|
| Kafka平台 | Kafka topic schema的管理 |
| 权限平台 | 申请Kafka相关的权限 |
| AirFlow平台 | 维护各个AirFlow任务 |

等等……

综上所述，我们的对于基础架构部各平台期望：
    * 统一入口
    * 统一域名
    * 各平台之间方便切换跳转
    * 各平台独立部署，没有依赖关系
    * 目前功能最复杂的inf平台可以拆分成多个子应用，进行独立部署
    * 各平台运行在自己的沙盒内，不会相互影响
    
## 微前端的框架选型

为什么不使用`iFrame`，这个在`qiankun`的项目中已经提到过：[Why Not iFrame](https://www.yuque.com/kuitos/gky7yw/gesexv)
 1. url 不同步。
 2. UI 不同步。
 3. 全局上下文完全隔离。
 4. 慢。

目前市面上可以选择的微前端框架有：
 * [qiankun](https://github.com/umijs/qiankun)
 * [alibabacloud-console-os](https://github.com/aliyun/alibabacloud-console-os)
 
上面提到的对于平台的期望，我们可以将其转化为以下技术点：

 * 前端沙盒
 * 路由分发
 * 脚本跨域执行（`*.guazi-apps.com`, `*.guazi-corp.com`）
 
那么根据上面的几个技术点，再去做技术选型，可以得出以下结论？
 
    
